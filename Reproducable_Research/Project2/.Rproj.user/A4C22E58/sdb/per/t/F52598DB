{
    "contents" : "---\ntitle: \"Analysis of the Effect of Certain Weather Events on Public Health and Economy\"\n---\n\n## Synopsis\nThis report shows how certain weather events can affect public health in terms of aggregate injuries and fatalities as well as economic damage to property and crops.  The data show that by an order of magnitude, tornados affect public health most, with 96,979 combined injuries and fatalities, with Excessive Heat second at 8,428.  Floods are found to cause the most property and crop damage, resulting in a total damage value of approximately $150B.  Although, hurricanes and typhoons cost nearly $72B in damage, tornados are the most damaging overall when combining public health affects and economic damage of approximately $57B.\n\n## Data Processing\n```{r echo = TRUE, cache = TRUE}\nlibrary(R.utils)\n# Unzip and read in the raw data archive\nbunzip2(\"repdata-data-StormData.csv.bz2\", \"repdata-data-StormData.csv\", overwrite = TRUE, remove = FALSE)\nStormData <- read.csv(\"repdata-data-StormData.csv\")\n```\n\nTo determine the types of events which affect public health most, we will use the total FATALITIES and INJURIES based on each type of event:\n\n```{r echo = TRUE}\nlibrary(plyr)\nPublicHealthSummary <- ddply(StormData, .(EVTYPE), summarize, total.injuries.and.fatalities = sum(FATALITIES, INJURIES))\n# Order in descending order\nPublicHealthSummary <- PublicHealthSummary[order(-PublicHealthSummary$total.injuries.and.fatalities), ]\n# Take the top 10\nTotPubHealthSum <- PublicHealthSummary[1:10, ]\n```\n\nTo determine the types of events which have the greatest economic consequences, we will use the total PROPDMG and CROPDMG based on each type of event:\n\n```{r echo = TRUE}\n# Multiply the property damage and copy damage cost by factor to put value in $1B\nStormData$PROPDMGAct <- with(StormData, \n                         ifelse(PROPDMGEXP==\"K\", PROPDMG/1e+06,\n                                ifelse(PROPDMGEXP==\"M\", PROPDMG/1000,\n                                       ifelse(PROPDMGEXP==\"B\", PROPDMG, \n                                              0*PROPDMG))))\nStormData$CROPDMGAct <- with(StormData, \n                         ifelse(CROPDMGEXP==\"K\", CROPDMG/1e+06,\n                                ifelse(CROPDMGEXP==\"M\", CROPDMG/1000,\n                                       ifelse(CROPDMGEXP==\"B\", CROPDMG, \n                                              0*CROPDMG))))\n\nEconConseqSummary <- ddply(StormData, .(EVTYPE), summarize, total.economic.damage = sum(PROPDMGAct, CROPDMGAct))\n# Order in descending order\nEconConseqSummary <- EconConseqSummary[order(-EconConseqSummary$total.economic.damage), ]\n# Take the top 10\nTotEconConseqSum <- EconConseqSummary[1:10, ]\n```\n\n## Results\n\nThe first table and plot show the top ten weather events that most affect public health.  The measure of interest is total number of fatalities plus injuries.  These results show that tornados are by far the most damaging weather event to public health.\n\n```{r, echo = TRUE}\nlibrary(ggplot2)\nTotPubHealthSum\nq <- qplot(EVTYPE, data = TotPubHealthSum, geom = \"bar\", weight = total.injuries.and.fatalities,\n           main = \"Weather Events that Affect Public Health Most\",\n           xlab = \"Weather Event Type\",\n           ylab = \"Total Injuries and Fatalities\")\nq + theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))\n```\n\nThe next table and plot show the top ten weather events which have the greatest economic consequences.  The measure of interest is total cost of property damage plus crop damage (in $1B).  These results show that floods are by far the most damaging weather event in terms of economic cost, but hurricanes and typhoons, tornados, and storm surges levy significant economic cost as well.\n\n```{r, echo = TRUE}\nTotEconConseqSum\nq <- qplot(EVTYPE, data = TotEconConseqSum, geom = \"bar\", weight = total.economic.damage,\n           main = \"Weather Events which Have the Greatest Economic Consequence\",\n           xlab = \"Weather Event Type\",\n           ylab = \"Total Property and Crop Damage (in $1B)\")\nq + theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))\n```\n",
    "created" : 1407806144773.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "986123621",
    "id" : "F52598DB",
    "lastKnownWriteTime" : 1407969874,
    "path" : "~/Documents/School/John's Hopkins Data Science/ReproducableResearch/Project2/Project.Rmd",
    "project_path" : "Project.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}